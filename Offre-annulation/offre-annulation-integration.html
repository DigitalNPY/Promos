<div class="npy_fullWidthBg">
    <div class="page-content-npy">
        <section class="cont_row">
            <h2>Réservez votre séjour pour cet été avec l'esprit libre !</h2>
            <p><span class="npy_reassurance">Offre flex</span>     <span class="npy_reassurance">Annulation jusqu'à j-5 offerte</span>      <span class="npy_reassurance">Remboursement sous 15 jours</span></p>
             <p><b>Pour votre séjour du premier mai au 15 septembre 2020, ne vous souciez plus d’une éventuelle annulation !</b></p>
                        <p>Pour tout contretemps ou souci lié au Covid-19 (restriction de déplacement, symptômes avérés, mise en quarantaine etc... ) les hébergeurs ci-dessous font preuve de flexibilité en vous proposant d’annuler votre séjour jusqu’à J-5, sans frais ! Vous serez remboursé(e) à 100% sous 15 jours.</p>
        </section>
    </div>
</div>

<div class="npy_fullWidthBg">
    <div class="page-content-npy">
        <section class="cont_row npy_offerHeader">
            
                    <div class="durationWrapper">
                        <div class="durationSelector" data-resort="Cauterets">Cauterets</div>
                        <div class="durationSelector" data-resort="Gourette">Gourette</div>
                        <div class="durationSelector" data-resort="Lpsm">La Pierre<br>St Martin</div>
                        <div class="durationSelector" data-resort="Luz">Luz-Ardiden</div>
                        <div class="durationSelector" data-resort="Tourmalet">Grand Tourmalet</div>
                        <div class="durationSelector" data-resort="Peyragudes">Peyragudes</div>
                        <div class="durationSelector" data-resort="Piau">Piau Engaly</div>
                    </div>
        </section>
    </div>
</div>
    
<div class="npy_fullWidthBg">
    <div class="page-content-npy">
        <section class="cont_row grille12col">    
            <div class="cont_grid4 npy_map">
                <iframe  id="map" width="100%" height="800px" frameborder="0" allowfullscreen src="https://umap.openstreetmap.fr/fr/map/carte-sans-nom_461347?scaleControl=false&miniMap=false&scrollWheelZoom=false&zoomControl=true&allowEdit=false&moreControl=true&searchControl=null&tilelayersControl=null&embedControl=null&datalayersControl=true&onLoadPanel=undefined&captionBar=false"></iframe>
            </div>
            <div class="cont_grid8">
                <section class="cont_row offer_annul">
                    <div class="cont_wrapper promo">
                    </div>
                </section>
            </div>
        </section> 
    </div>  
</div>

<div class="npy_fullWidthBg widgetContainer">
    <div class="page-content-npy">
        <section id="widget_resa" class="cont_row widget_resa">
                    
        </section>
    </div>
</div>




<script type="text/javascript" src="https://gadget.open-system.fr/widgets-libs/rel/noyau-1.0.min.js"></script>
<script type="text/javascript">
    const npySummerProm=[
    {
        nom:'Maison d\'Orride',
        type:'Hotels / Chambres d\'hôtes',
        loc:'Ledeuix',
        station:'Lpsm',
        ui:'OSCH-72613',
        pic:'maison-orride.jpg'

    },
    {
        nom:'Flocons du soleil',
        type:'Appartement',
        loc:'Peyragudes',
        station:'Peyragudes',
        ui:'OSMB-64622',
        pic:'placeholder.jpg'

    },
    {
        nom:'Maison de Peyragudes',
        type:'Appartements',
        loc:'Peyragudes',
        station:'Peyragudes',
        ui:'MARK-42660',
        pic:'placeholder.jpg'

    },
    {
        nom:'Agence pic du midi',
        type:'Appartements',
        loc:'Peyragudes',
        station:'Tourmalet',
        ui:'ZEPH-64477',
        pic:'placeholder.jpg'

    },
    {
        nom:'Hostellerie de Ramonjuan',
        type:'Hotels / Chambres d\'hôtes',
        loc:'B. de Bigorre',
        station:'Tourmalet',
        ui:'AVAI-39677',
        pic:'domaine-ramonjuan.jpg'

    },
    {
        nom:'Mer & Golf Pic du Midi',
        type:'Résidences de tourisme',
        loc:'La Mongie',
        station:'Tourmalet',
        ui:'AVAI-43796',
        pic:'meretgolf-pic.jpg'

    },
    {
        nom:'Mer & Golf La Mongie',
        type:'Résidences de tourisme',
        loc:'La Mongie',
        station:'Tourmalet',
        ui:'AVAI-43794',
        pic:'meretgolf-tourmalet.jpg'

    },
    {
        nom:'Résidence Richelieu',
        type:'Appartements',
        loc:'Peyragudes',
        station:'lpsm',
        ui:'OSMB-35536',
        pic:'placeholder.jpg'

    },
    {
        nom:'Résidence Gascogne',
        type:'Appartements',
        loc:'Peyragudes',
        station:'lpsm',
        ui:'OSMB-108746',
        pic:'placeholder.jpg'

    },
    {
        nom:'Le Bois Joli',
        type:'Hotels / Chambres d\'hôtes',
        loc:'Cauterets',
        station:'Cauterets',
        ui:'HRIT-35250',
        pic:'hotel-boisjoli.jpg'

    },
    {
        nom:'Carré Py',
        type:'Hotels / Chambres d\'hôtes',
        loc:'B. de Bigorre',
        station:'Tourmalet',
        ui:'AVAI-47066',
        pic:'hotel-carrepy.jpg'

    },
    {
        nom:'La Maisonnée',
        type:'Hotels / Chambres d\'hôtes',
        loc:'Sazos',
        station:'Luz-Ardiden',
        ui:'OSCH-48058',
        pic:'placeholder.jpg'

    },
    {
        nom:'Ecovillage Vacance Soleil du Pibeste',
        type:'Campings',
        loc:'Agos Vidalos',
        station:'Luz',
        ui:'CVERT-36125',
        pic:'camping-pibeste.jpg'

    },
    {
        nom:'Les 4 Ours',
        type:'Hotels / Chambres d\'hôtes',
        loc:'Piau Engaly',
        station:'Piau',
        ui:'NOVH-47375',
        pic:'hotel-4ours.jpg'

    },
    {
        nom:'Auberge de l\'étable',
        type:'Hotels / Chambres d\'hôtes',
        loc:'Montory',
        station:'Lpsm',
        ui:'HRIT-29997',
        pic:'auberge-etable.jpg'

    },
    {
        nom:'Selection Agence Barroso',
        type:'Hotels / Chambres d\'hôtes',
        loc:'Gourette',
        station:'Gourette',
        ui:'HRES-36724',
        pic:'placeholder.jpg'

    },
    {
        nom:'Les Adrets',
        type:'Résidences de tourisme',
        loc:'Peyragudes',
        station:'Peyragudes',
        ui:'OSMB-43060',
        pic:'placeholder.jpg'

    },
    {
        nom:'Appartement Toit',
        type:'Résidences de tourisme',
        loc:'Peyragudes',
        station:'Peyragudes',
        ui:'OSMB-109565',
        pic:'placeholder.jpg'

    },
    {
        nom:'Sélection Page Immobilier',
        type:'Appartement',
        loc:'Cauterets',
        station:'Cauterets',
        ui:'OSMB-109565',
        pic:'placeholder.jpg'

    },
    {
        nom:'Sélection Loueurs Particuliers',
        type:'Appartement',
        loc:'Peyragudes',
        station:'lpsm',
        ui:'CA-OPROM-43702-1334',
        pic:'placeholder.jpg'

    },
    {
        nom:'Appartement #',
        type:'Appartement',
        loc:'Peyragudes',
        station:'lpsm',
        ui:'CA-OPROM-43702-1334',
        pic:'placeholder.jpg'

    },
];

let npyIdIntegration = "1331";
let npyIdPanier = "VRpVVVU";
let npyUi = "OSCH-72613";
window.langue = "fr";

const resortButtons = Array.from(document.querySelectorAll('.durationSelector'));
const npyWrapper = document.querySelector('.promo');
const npyWidgetWrapper = document.querySelector('.widget_resa');

//Initialisation
filterItemsByResort('all');

function filterItemsByResort(choix){
        npyWrapper.innerHTML='';
          for (var i = 0; i < npySummerProm.length; i++) {

            if((npySummerProm[i].station)===choix || choix==='all'){
            let npyUrl = npySummerProm[i].ui;
            let nom = npySummerProm[i].nom;
            let npyBackground = npySummerProm[i].pic;
            let npyType = npySummerProm[i].type;
            let npyLoc = npySummerProm[i].loc;
            let npyStation =npySummerProm[i].station;
      
            

            let item =`<div class="cont_grid4 lgmt" data-resort="${npyStation}" data-img="${npyBackground}" data-lgmt="${npyUrl}" data-titre="${nom}" data-type="${npyType}" data-loc="${npyLoc}"><div class="cont_grid_item"><div class="cont_grid_img"><img class="npyImage" /></div><div class="cont_grid_text"><h3 class="cont_title cont_title3">${nom}</h3></div></div></div>`;
            let textnode = document.createElement('div');
            textnode.innerHTML = item;  
            npyWrapper.appendChild(textnode);
            }

            else{}
         } 

         let createdItems = document.querySelectorAll('.lgmt');
         let createdImages= Array.from(document.querySelectorAll('.npyImage'));
         let itemLocs =Array.from(document.querySelectorAll('.cont_grid_text'));

         for (var i = 0; i < createdItems.length; i++) {
            let type = createdItems[i].dataset.type;
            let loc = createdItems[i].dataset.loc;
            let image = createdItems[i].dataset.img;
            createdImages[i].src= 'https://www.n-py.com/sites/n-py/files/commons/2020-2021/Ete/Offre_annulation_gratuite/'+image;
            
            let itemLocsLieu = `<div class="cont_grid_baseline lieu"><img src="https://www.n-py.com/sites/n-py/files/commons/0_ICONES/gps.png"/><b>${loc}</b></div>`;
            let itemLocsType =`<div class="cont_grid_baseline type"><img alt="" src="https://www.n-py.com/sites/n-py/files/commons/0_ICONES/gps.png" /><b>${type}</b></div>`;
            let itemLocsNodeLieu = document.createElement('div');
            let itemLocsNodeType = document.createElement('div');
            itemLocsNodeLieu.innerHTML = itemLocsLieu;
            itemLocsNodeType.innerHTML= itemLocsType;
            itemLocs[i].appendChild(itemLocsNodeLieu);
            itemLocs[i].appendChild(itemLocsNodeType);
            

         }



         


         createdItems.forEach(element => element.addEventListener("click",function(e){
            npyWidgetWrapper.innerHTML='';
            let npyUi = this.dataset.lgmt;
            let res = npyUi.substring(0, 4);
            console.log(res);
            if(res==='OSMB'){

            
            }
            else{
              let npyNom =this.dataset.titre;
            let widgetHtml = `<h2 class="home_title">${npyNom}</b></h2><div id="widget-produit-${npyUi}" ></div>`;
            let npyWidget = document.createElement('div');
            npyWidget.innerHTML = widgetHtml;
            npyWidgetWrapper.appendChild(npyWidget);
            let widgetProduit = AllianceReseaux.Widget.Instance( "Produit", { idPanier:npyIdPanier, idIntegration:npyIdIntegration, langue:"fr", ui:npyUi } );
            widgetProduit.Initialise();
            scrollToElement('widget_resa');
            }
         }));


}

 function scrollToElement(element){
    window.scroll({
              behavior: 'smooth',
              left: 0,
              // top gets the distance from the top of the page of our target element
              top: document.getElementById(element).offsetTop
            });
};


//Definition Duree
resortButtons.forEach(element => element.addEventListener('click', function(e){
let chosenResort= this.dataset.resort;
for (var i = 0; i < resortButtons.length; i++) {
    resortButtons[i].classList.remove('active');
}
this.classList.add('active');
filterItemsByResort(chosenResort);

//document.querySelector('iframe').src=`https://www.n-py.com/fr/${chosenResort}`;


}));
</script>
</div>
<link href="https://www.n-py.com/sites/n-py/files/commons/2017-2018/css/npy-elements.css" rel="stylesheet" type="text/css" />
<style type="text/css">
         :root {
  --red: #fb236a;
  --blue:#003d7b;
  --grey:#dceaf9;
  --black:#242424;
  --green:#1bc74e;
  --bg-blue:#162238;
  --radius:10px;
  --shadow: 0px 0px 16px rgb(18, 26, 37);
  --shadow-white : 5px 0px 18px rgba(0, 61, 123, 0.13);

}


/*==RESET PAGE==*/

  #content-main {
    background: #fff;
}

    .cont_grid6 img{
        max-width: 100%
    }

    #content-top {
        background: #fff !important;
    }


    /*============*/


   

  /*==SELECTEUR==*/

.durationWrapper{
    border-bottom:1px solid var(--grey);
    width:100%;
    display:flex;
    justify-content: space-between;
}

.durationSelector{
    padding-bottom:12px;
    border-bottom:12px solid transparent;
    transform: translateY(7px);
}

.durationSelector:hover{
    color:var(--green);
    font-weight:900;
}

.active{
        color:var(--green);
        border-bottom:12px solid var(--green);
   }
  
.durationWrapper div:hover{
        cursor:pointer;
        font-weight: bold
   }


/*=== PARAMETRAGE ROWS FULLWIDTH===*/   



    .npy_fullWidthBg
        {
            color:#003d7b;
            width:100%;
        }

.npy_fullWidthBg .page-content-npy
        {
            width:90%;
            margin:auto;
        }

        .npy_fullWidthBg .cont_grid3, .npy_fullWidthBg .cont_grid4, .npy_fullWidthBg .cont_grid6
        {
            padding:25px;
        }


.offer_annul {
    padding: 40px 0;
    width: 100%;
}

.widgetContainer{
    background:#f7f5f5;
    padding:80px 0px;
}



/*=== REASSURANCE===*/

.npy_reassurance {
    background: #ff6f5d;
    font-size: 14px;
    color: #fff;
    padding: 2px;
}




/*=====MAP =====*/



 .map {
    background-color: #CCCCCC;
    position: sticky!important;
    top: 0;
    right: 0;
    left: 0;
  }
}



.offer_annul .cont_grid_img img {
    max-width:100%;
    border-radius: 5px 5px 0px 0px!important;

  
}

.offer_annul .cont_grid_baseline{
    font-size: 11px;
    margin: 5px 5px 5px 0px!important;
    display: inline-block;
    border: 1px solid #7c96d175;
    padding: 5px 10px;
    border-radius: 50px;
}

.offer_annul .cont_grid_text div{
    display:inline-block;
}


.offer_annul .cont_grid_baseline img{
    height: 12px;
    width: auto;
    margin: 0px 7px 0px -3px;
    transform: translateY(1px);

}

.offer_annul .cont_title3 {
    font-weight: 900 !important;
    font-size: 17px !important;
    text-transform: none!important;
}


.offer_annul .cont_grid_item{
  animation: Opacity .7s;
}





@keyframes Opacity {
  from{
    transform: translateY(10px);
    opacity: 0
  }

  to{
    transform: translateY(0px);
    opacity: 1
  }
}
    
    






.offer_annul .cont_grid_item:hover img{
  opacity: 1!important;
  cursor:pointer;
}





.offer_annul .npy_activ_title h3{
    font-size: 17px;
    text-transform: none;
    padding: 0;
    margin: 15px 0px 2px 0px;
}

.offer_annul .npy_activ_title p{
    margin:0;
    padding:0;
}

@media screen and (max-width: 900px) {
    
        .npy_map{
            display:none;
        }
   }
</style>






 
